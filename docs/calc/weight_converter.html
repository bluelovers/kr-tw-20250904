<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>公斤換算台斤價錢(公斤/台斤/克/兩,價格換算)</title>
</head>
<body>
<h1 id="h1_title">不同單位的價格換算</h1>
<form>
	<div id="divPanel">
		<table id="tblPanel">
			<tr class="tr1">
				<td><input id="kg" type="number" onchange="cal(this);" onkeyup="cal(this);" placeholder="1" title="公斤" value="1"> 公斤(KG)</td>
				<td><input id="kg_price" type="number" onchange="cal(this);" onkeyup="cal(this);" title="一公斤多少錢" placeholder="?" > 元</td>
			</tr>
			<tr class="tr2">
				<td><input id="g" type="number" onchange="cal(this);" onkeyup="cal(this);" placeholder="100" title="公克" value="100"> 公克(grams)</td>
				<td><input id="g_price" type="number" onchange="cal(this);" onkeyup="cal(this);" title="100克多少錢" placeholder="?"> 元</td>
			</tr>
			<tr class="tr1">
				<td><input id="taijin" type="number" onchange="cal(this);" onkeyup="cal(this);" placeholder="1" title="台斤" value="1"> 台斤</td>
				<td><input id="taijin_price" type="number" onchange="cal(this);" onkeyup="cal(this);" title="一台斤多少錢" placeholder="?"> 元</td>
			</tr>
			<tr class="tr2">
				<td><input id="tailiang" type="number" onchange="cal(this);" onkeyup="cal(this);" placeholder="1" title="台兩" value="1"> 台兩</td>
				<td><input id="tailiang_price" type="number" onchange="cal(this);" onkeyup="cal(this);" title="一兩多少錢" placeholder="?"> 元</td>
			</tr>
		</table>
		<div style="margin-top:5px;" id="msg">填入任一價格，不同單位會自動轉換</div>
	</div>
</form>

<p style="clear:both;margin-top:5px">
	換算不同重量單位下的價格，包括公斤，公克，台斤，台兩。例如
	1公斤130元，等於1台斤多少錢？
	1台斤28元，換算成1公斤是多少錢？
</p>

<h3>如何使用這個價格計算工具</h3>
<ul>
	<li>第一，先確定重量單位是你要的，可以調整成300克，0.5斤(半斤)或2兩。</li>
	<li>各個重量單位確定好，再輸入你知道的價格。</li>
	<li>其他價格會自動計算</li>
</ul>

<h3>重量單位轉換</h3>
<ul>
	<li>1台斤等於600公克</li>
	<li>1台斤是16兩，半斤8兩</li>
	<li>1兩是37.5公克</li>
	<li>1公斤 = 1000 公克</li>
</ul>

<h3>台斤換算公斤價格</h3>
<p>1台斤30元，1公斤是多少錢？<br>
	1台斤=600克=0.6公斤。<br>
	30 &divide; 1 &divide; 0.6 = 50<br>
	答：1公斤是50元<br>
</p>

<h3>公斤換算台斤價格</h3>
<p>1公斤120元，1台斤是多少錢？<br>
	1公斤=1000克，1台斤=600公克。<br>
	120 &divide; 1000 &times; 600 = 72<br>
	答：1台斤是72元<br>
</p>

<script type="text/javascript">
var e_kg=document.getElementById('kg');
var e_kg_price=document.getElementById('kg_price');
var e_g=document.getElementById('g');
var e_g_price=document.getElementById('g_price');
var e_taijin=document.getElementById('taijin');
var e_taijin_price=document.getElementById('taijin_price');
var e_tailiang=document.getElementById('tailiang');
var e_tailiang_price=document.getElementById('tailiang_price');
var e_msg=document.getElementById('msg');

function cal(t){

	function clear_all_price(except_ipt){
		var all_ipt=[e_kg_price,e_g_price,e_taijin_price,e_tailiang_price];
		for (i=0;i<all_ipt.length;i++){
			if (all_ipt[i]!==except_ipt){all_ipt[i].value='';}
		}
	}

	function fix_bad_units(){
		if (e_kg.value=='' || isNaN(e_kg.value)){e_kg.value=1;}
		if (e_g.value=='' || isNaN(e_g.value)){e_g.value=100;}
		if (e_taijin.value=='' || isNaN(e_taijin.value)){e_taijin.value=1;}
		if (e_tailiang.value=='' || isNaN(e_tailiang.value)){e_tailiang.value=1;}
	}

	var tv=t.value.trim();
	if (t==e_kg_price){
		if (t.value=='' || isNaN(tv)){clear_all_price(t);
		} else {
			fix_bad_units();
			per_kg_yuan=e_kg_price.value/e_kg.value;
			e_g_price.value=Math.round(per_kg_yuan/1000*e_g.value*100)/100;
			e_taijin_price.value=Math.round(per_kg_yuan*0.6*e_taijin.value*10)/10;
			e_tailiang_price.value=Math.round(per_kg_yuan*0.0375*e_tailiang.value*100)/100;
			gram_price=Math.round(e_g_price.value/e_g.value*1000)/1000;
			e_msg.innerHTML='如果'+e_kg.value+'公斤的價格是'+e_kg_price.value+'元'+
				'，那麼'+e_g.value+'公克將會是'+e_g_price.value+'元'+
				'，<br>換算成'+e_taijin.value+'台斤會是'+e_taijin_price.value+'元'+
				'，'+e_tailiang.value+'兩的價格，則是'+e_tailiang_price.value+'元。'+
				'<div class="gram_price">**每公克'+gram_price+'元</div>';
		}
	} else if (t==e_g_price){
		if (t.value=='' || isNaN(tv)){clear_all_price(t);
		} else {
			fix_bad_units();
			per_g_yuan=e_g_price.value/e_g.value;
			e_kg_price.value=Math.round(per_g_yuan*1000*e_kg.value*10)/10;
			e_taijin_price.value=Math.round(per_g_yuan*600*e_taijin.value*10)/10;
			e_tailiang_price.value=Math.round(per_g_yuan*37.5*e_tailiang.value*100)/100;
			gram_price=Math.round(e_g_price.value/e_g.value*1000)/1000;
			e_msg.innerHTML='如果'+e_g.value+'公克的價格是'+e_g_price.value+'元'+
				'，那麼'+e_kg.value+'公斤就是'+e_kg_price.value+'元'+
				'，<br>換算成'+e_taijin.value+'台斤會是'+e_taijin_price.value+'元'+
				'，'+e_tailiang.value+'兩的價格，則是'+e_tailiang_price.value+'元。'+
				'<div class="gram_price">**每公克'+gram_price+'元</div>';
		}
	} else if (t==e_taijin_price){
		if (t.value=='' || isNaN(tv)){clear_all_price(t);
		} else {
			fix_bad_units();
			per_taijin_yuan=e_taijin_price.value/e_taijin.value;
			e_kg_price.value=Math.round(per_taijin_yuan/0.6*e_kg.value*10)/10;
			e_g_price.value=Math.round(per_taijin_yuan/600*e_g.value*100)/100;
			e_tailiang_price.value=Math.round(per_taijin_yuan/16*e_tailiang.value*100)/100;
			gram_price=Math.round(e_g_price.value/e_g.value*1000)/1000;
			e_msg.innerHTML='如果'+e_taijin.value+'台斤的價格是'+e_taijin_price.value+'元'+
				'，那麼'+e_tailiang.value+'兩就是'+e_tailiang_price.value+'元'+
				'，<br>換算成'+e_kg.value+'公斤將會是'+e_kg_price.value+'元'+
				'，'+e_g.value+'克的價格，則是'+e_g_price.value+'元。'+
				'<div class="gram_price">**每公克'+gram_price+'元</div>';
		}
	} else if (t==e_tailiang_price){
		if (t.value=='' || isNaN(tv)){clear_all_price(t);
		} else {
			fix_bad_units();
			per_tailiang_yuan=e_tailiang_price.value/e_tailiang.value;
			e_kg_price.value=Math.round(per_tailiang_yuan/0.0375*e_kg.value*10)/10;
			e_g_price.value=Math.round(per_tailiang_yuan/37.5*e_g.value*100)/100;
			e_taijin_price.value=Math.round(per_tailiang_yuan*16*e_taijin.value*10)/10;
			gram_price=Math.round(e_g_price.value/e_g.value*1000)/1000;
			e_msg.innerHTML='如果'+e_tailiang.value+'兩要價'+e_tailiang_price.value+'元'+
				'，那麼'+e_taijin.value+'台斤就需要'+e_taijin_price.value+'元'+
				'，<br>換算成'+e_kg.value+'公斤將會是'+e_kg_price.value+'元'+
				'，'+e_g.value+'克的價格，則是'+e_g_price.value+'元。'+
				'<div class="gram_price">**每公克'+gram_price+'元</div>';
		}
	}
} //eof cal

</script>

</body>
</html>